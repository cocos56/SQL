
[大三上：数据库系统概论所有实验报告和课后作业](https://coco56.blog.csdn.net/article/details/102768942)

@[toc]

# 1. 题型
* 一、单项选择题（每小题2分，共30分)
* 二、填空题，请在下划线上填写正确答案（每空1分，共20分）
* 三、简答题，根据题目问题进行相应回答（第1题4分，第2题6分，第3-6题每题5分，共30分）
* 四、应用设计 （每小题10分，共20分）

# 2. 要点
## 1. 数据的描述
描述事物的符号记录称为数据
## 2. 数据库系统的三级模式是指
* 数据库系统的三级模式结构是指数据库系统由<u>**外模式**</u>、模式和内模式三级构成。
* 在数据库的三级模式结构中，描述数据库中全体数据的全局逻辑结构和特征的是（D）。
A．外模式   B．内模式   C．存储模式    D．模式
* 在数据库三级模式间引入二级映象的主要作用是（A） 
A．提高数据与程序的独立性		B．提高数据与程序的安全性
C．保持数据与程序的一致性		D．提高数据与程序的可移植性
* 在数据库三级模式中，模式的个数（A） 
A．只有一个						B．可以有任意多个
C．与用户个数相同				D．由设置的系统参数决定
* 在关系数据库中，表（table）是三级模式结构中的（B）
A．外模式
B．模式
C．存储模式
D．内模式
* 在数据库的三级模式结构中，描述数据库中全体数据的全局逻辑结构和特征的是（D）。
A．外模式
B．内模式
C．存储模式
D．模式
* SQL语言支持数据库三级模式结构。在SQL中，外模式对应于<u>视图和部分基本表</u>、模式对应于<u>基本表</u>、内模式对应于<u>存储文件</u>。
## 3. 模式和逻辑、物理独立性间的关系
外模式对应于应用程序、视图
模式对应于逻辑结构、基本表
内模式对应于物理结构、文件
* 17什么叫数据与程序的物理独立性？什么叫数据与程序的逻辑独立性？为什么数据库系统具有数据与程序的独立性？
* 外模式/模式映象可以保证数据和应用程序之间的<u>逻辑独立性</u>；模式/内模式映象可以保证数据和应用程序之间的<u>物理独立性</u>。
## 4. 数据库系统的描述
* 数据库系统是由数据库、数据库管理系统、应用程序和数据库管理员组成的存储、处理、维护和管理数据的系统。

* 数据库系统一般包括数据库、_dbms、_dba_、_应用系统_与用户。
## 5. 概念模型是现实世界的第一层抽象，最著名的概念模型是E-R模型、E-R模型的描述。
实体间的联系

## 6. 数据模型的定义及描述
数据模型是严格定义的一组概念的集合，数据模型通常由数据结构，数据操作，和数据的完整性约束条件三部分组成。

## 7. 信息世界中的概念：实体、码、属性、主属性、非主属性（或非码属性）等
* **实体**：客观存在并可以相互区分的事物叫实体。
* **码**：表中的某个属性组，它可以唯一确定一个元组；
* **属性**：表中的一列即为一个属性；
* **主属性**：包含在任一候选关键字中的属性称主属性；
* **非主属性**：不包含在主码中的属性称为非主属性。 非主属性是相对与主属性来定义的；
## 8. 候选码
若关系中的某一属性组的值能唯一地标识一个元组，而其子集不能，则称该属性组为候选码。
## 9. 数据库系统的特点。
1. 数据结构化
2. 数据的共享性高，冗余度低，易扩充
3. 数据独立性高
4. 数据由DBMS统一管理和控制
## 10. 描述并、差、选择这三种关系代数运算的运算符及运算规则。
并运算的运算符为“∪”，其运算规则为关系R与关系S的并由属于R或属于S的元组组成。
差运算的运算符为“—”，其运算规则为关系R与关系S的差由属于R而不属于S的元组组成。
选择运算的运算符为“σ”，其运算规则为从关系中选取使选择条件为真的元组。
## 11. 描述交、投影、连接这三种关系代数运算的运算符及运算规则。
交运算的运算符为“∩”，其运算规则为关系R与关系S的差由属于R且属于S的元组组成。
投影运算的运算符为“$\Pi$”，其运算规则为从关系中选择若干属性列组成新的关系。
连接运算的运算符为“∞”，其运算规则为两个关系的笛卡尔积中选取属性间满足一定条件的元组。
## 12. 结合数据库中用户定义的完整性要求，请简要说明列值非空、列值唯一和检查列值是否满足一个布尔表达式这三种常见约束的含义及定义方法。
（1）列值非空表明该列是必填项，如果列值未设置会导致元组无法插入数据库。列值非空使用NOT NULL定义；
（2）列值唯一表明该列中不允许出现重复属性值，如果出现重复属性值会导致元组无法插入数据库。列值唯一使用UNIQUE定义；
（3）检查列值是否满足一个布尔表达式表明该列的属性值应使设定的布尔表达式成立，否则会导致元组无法插入数据库。检查列值是否满足一个布尔表达式使用CHECK定义。
## 13. 请列举数据库的三类完整性约束并进行简单说明。
（1）实体完整性
（2）参照完整性
（3）用户定义的完整性
（1）实体完整性。每一个实体都应该有主码，通过主码可唯一确定关系中的某一元组。主码不能重复，不能为空。
（2）参照完整性。用于说明当前关系的外码参照了哪些表的主码。外码要么为空，要么为某一已经存在的主码值。
（3）用户定义的完整性。用于描述针对某一具体应用的数据必须满足的语义要求。
## 14. 以下哪一项是SQL Server中支持的可变长字符串数据类型？
SQL Server支持的数据类型

## 14. 关系
关系可以有基本关系、 查询表、视图表三种类型
## 15. 数据库系统提供的授权机制保障数据安全性的措施。
用户身份鉴别：静态口令鉴别，动态口令鉴别，生物特征鉴别，智能卡识别。 
## 16. 聚集函数的含义 COUNT、AVG\MAX\MIN(列名) 
* COUNT：统计元组个数。
* AVG：计算一列值的平均值。
* MAX：求一列值的最大值。
* MIN：求一列值的最小值。
## 17. 描述数据库设计的6个阶段
需求分析阶段；概念结构设计阶段；逻辑结构设计阶段；物理结构设计阶段；数据库实施阶段；数据库运行和维护阶段。
* 数据库设计的基本步骤是什么？
需求分析、概念结构设计、逻辑结构设计、物理结构设计、数据库实施、数据库运行和维护。

## 18. 根据规范化理论，1NF、2NF、3NF的定义。一个低一级范式的关系模式通过模式分解可以转换为若干个高一级范式的关系模式的集合，该过程称为规范化。
1NF：实体中的某个属性不能有多个值或者不能有重复的属性。
2NF：完全依赖于主键[消除非主属性对主码的部分函数依赖]
3NF：不依赖于其它非主属性[消除传递依赖] 　
规范化：一个低一级范式的关系模式通过模式分解可以转换为若干个高一级范式的关系模式的集合，该过程称为规范化。
## 19. SQL Server 中，如果希望用户u1在当前数据库中具有对某表的操纵权限的授权语句 ；在SQL语句中，收回已授予的权限REVOKE
8.今有两个关系模式:
职工(职工号，姓名，年龄，职务，工资，部门号)
部门(部门号，名称，经理名，地址，电话号)
请用SQL的GRANT和REVOKE语句(加上视图机制)完成以下授权定义或存取控制功能:
(1)用户王明对两个表有SELECT权力;
(2)用户李勇对两个表有INSERT和DELETE权力;
(3)每个职工只对自己的记录有SELECT权力;
(4)用户刘星对职工表有SELECT权力，对工资字段具有更新权力;
(5)用户张新具有修改这两个表的结构的权力;
(6)用户周平具有对两个表所有权力(读，插，改，删数据)，并具有给其他用户授权的权力;
(7)用户杨兰具有从每个部门职工中SELECT最高工资,最低工资，平均工资的权力,他不能查看每个人的工资。
```sql
--(1)
GRANT SELECT ON 职工,部门 TO 王明;

--(2)
GRANT INSERT, DELETE ON 职工，部门 TO 李勇;

--(3)
GRANT SELECT ON 职工 WHEN USER() = NAME TO ALL;
-- 这里假定系统的GRANT语句支持WHEN子句和USER ()的使用。用户将自己的名字作为ID。注意，不同的系统这些扩展语可能是不同的。读者应该了解你使用的DBMS产品的扩展语句。

-- (4)
GRANT SELECT, UPDATE (工资) ON 职工 TO 刘星;

-- (5)
GRANT ALTER TABLE ON 职工,部门 TO 张新;

-- (6)
GRANT ALL PRIVILEGES ON 职工，部门 TO 周平 WITH GRANT OPTION;

-- (7)
-- 首先建立一个视图。然后对这个视图定义杨兰的存取权限。
CREATE VIEW 部门工资 AS SELECT 部门.名称,MAX(工资),MIN(工资),AVG(工资) FROM 职工，部门 WHERE 职工.部门号=部门.部门号 GROUP BY 职工.部门号;

GRANT SELECT ON 部门工资 TO 杨兰;
```

9.把习题8中(1)~(7)中的每一种情况，撤销各户所授予的权力。
```sql
-- (1)
REVOKE SELECT ON 职工,部门 FROM 王明;

-- (2)
REVOKE INSERT,DELETE ON 职工,部门 FROM 李勇;

-- (3)
REVOKE SELECT ON 职工 WHEN USER()=NAME FROM ALL;
-- 这里假定用户将自己的名字作为ID，且系统的REOVKE语支持WHEN子句，系统也支持USER ()的使用。

-- (4)
REVOKE SELECT,UPDATE ON 职工 FROM 刘星;

-- (5)
REVOKE ALTER TABLE ON 职工,部门 FROM 张新;

-- (6)
REVOKE ALL PRIVILEGES ON 职工,部门 FROM 周平;

-- (7)
REVOKE SELECT ON 部门工资 FROM 杨兰;
DROP VIEW 部门工资;
```
## 20. DELETE 、DROP 的区别与联系。删除表和元组的命令。
## 21. 在SQL语句的查询条件中，确定数据范围可以使用BETWEEN关键字，确定是否在集合中使用 IN关键字，进行字符匹配使用 LIKE关键字，任意长度的字符串，任意单个字符。
## 22. SQL语言中，用于实现数据检索的语句。
## 23. 从E-R模型关系向关系模型转换时，一个1:N（M:N）联系的转换规则
* 从E-R模型关系向关系模型转换时，一个m:n联系转换为关系模式时，该关系模式的码是（C）
A．M端实体的码     	B．N端实体的码
C．M端实体码与N端实体码组合 	D．重新选取其他属性
* 从E-R模型关系向关系模型转换时，一个M:N联系转换为关系模式时，该关系模式的关键字是（C）。
A．M端实体的关键字        					B．N端实体的关键字       
C．M端实体关键字与N端实体关键字组合      D．重新选取其他属性
## 24. 触发器是一种特殊的存储过程，它是由用户对数据的更改操作自动引发执行的。适于用完整性控制或实现复杂的约束
_触发器_是一种特殊的存储过程，它可以在对一个表上进行INSERT、UPDATE和DELETE操作中的任一种或几种操作时被自动调用执行。
## 25. 并发操作可能会产生哪些数据不一致？不可重复读、 读“脏”数据
* 简述数据库并发操作通常会带来哪些问题。
丢失修改、不可重复读、读“脏”数据。
## 26. 并发操作中不可重复读是指同一事务两次读到的数据不相同
## 27. 数据字典通常包括数据项、数据结构、数据流、数据存储和处理过程等部分
## 28. 各子系统的E-R图之间主要属性、命名和结构 冲突等三类冲突。  
## 29. 初步的E-R图中可能存在一些冗余的数据和冗余的联系。  
## 30. 事务中COMMIT、ROLLBACK。
事务具有ACID特性：原子性 、一致性 、隔离性、 持续性。

* 简述事务的特性。
事务具有四个特性，即ACID特性：（1分）
（1）原子性：事务中包括的所有操作要么都做，要么都不做。（1分）
（2）一致性：事务必须使数据库从一个一致性状态变到另一个一致性状态。（1分）
（3）隔离性：一个事务内部的操作及使用的数据对并发的其他事务是隔离的。（1分）
（4）持续性：事务一旦提交，对数据库的改变是永久的。（1分）

## 31. 文件管理数据库中的文件类型表结构及其各属性的描述与约束，请根据以上描述写出创建该文件类型表的SQL语句。
CREATE TABLE T()
## 32. 给出关系模式及其其依赖关系集请判断其是否属于第二或三范式并给出依据；若不属于第二或三范式，请将其分解为属于第二或三范式的关系模式集合。
答题步骤：
（1）给出关系模式的码，因为存在什么，故不属于第三范式。
（2）分解后的关系模式
## 33. 请简要说明查询处理的步骤有哪些，并对步骤进行简单说明。
（1）查询分析
（2）查询检查（或查询预处理）
（3）查询优化
（4）查询执行。。。。。。
## 34. 设有一个文件管理数据库的两个关系模式及其结构。
（1）依据要求创建一个视图。
（2）创建查询语句。
（3）创建查询语句。
## 35. 请建立一个关于*、*、*等多项信息的关系数据库，要求如下。
* 关系模式及其属性。
* 关系模式及其属性。
关系模式及其属性    
各项信息之间语义如下。
（1）请给出该关系数据库的E-R图。
（2）将E-R图转换为关系模式。